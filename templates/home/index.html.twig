{% extends 'base.html.twig' %}

{% block title %}Yuan's Blog
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-md-8">
				{% for article in articles %}
					<div class="mb-4">
						<div class="card">
							<div class="card-body">
								<h5 class="card-title">{{ article.title }}</h5>
								<div class="d-flex justify-content-between align-items-center text-muted small mb-2">
									<div>
										Par
										{{ article.author.username }}
										le
										{{ article.createdAt|date('d/m/Y') }}
									</div>
									<div>
										<span class="me-3">
											<i class="fas fa-folder"></i>
											{{ article.category ? article.category.name : 'Non catégorisé' }}
										</span>
										<span class="me-3">
											<i class="fas fa-comments"></i>
											{{ article.comments|length }}
											commentaires
										</span>
										<span>
											<i class="fas fa-eye"></i>
											{{ article.views }}
											vues
										</span>
									</div>
								</div>
								<p class="card-text">
									{{ article.content|striptags|slice(0, 200) }}...
								</p>
								<a href="{{ path('app_article_show', {'id': article.id}) }}" class="btn btn-primary btn-sm">
									Lire la suite
								</a>
							</div>
						</div>
					</div>
				{% else %}
					<div class="text-center">
						<p>Aucun article pour le moment.</p>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
{% endblock %}
